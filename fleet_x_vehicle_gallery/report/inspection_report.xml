<?xml version="1.0" encoding="utf-8"?>
<openerp>


    <report
            id="car_inspection_report"
            model="fleet.vehicle.gallery"
            string="Hoja de Inspección"
            report_type="qweb-pdf"
            name="fleet_x_vehicle_gallery.inspection_report"
            file="fleet_x_vehicle_gallery.inspection_report"
    />


    <template id="inspection_report">
        <t t-call="report.layout">
            <!-- Multicompany -->
            <t t-if="o and 'company_id' in o">
                <t t-set="company" t-value="o.company_id"></t>
            </t>
            <t t-if="not o or not 'company_id' in o">
                <t t-set="company" t-value="res_company"></t>
            </t>
            <t t-foreach="docs" t-as="o">
                <div class="header" style="border-bottom: 1px solid black;">
                    <div class="row">
                        <div class="col-xs-3">
                            <img t-if="company.logo" t-att-src="'data:image/png;base64,%s' % company.logo" style="max-height: 45px;"/>
                        </div>
                        <div class="col-xs-5" >
                            <div t-field="company.partner_id"
                                 t-field-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": true}'
                                 style="font-size:10px"/>
                        </div>
                        <div class="col-xs-4">
                            <p>No.: <span t-field="o.id"/></p>
                            <p>Fecha.: <span t-field="o.name" t-field-options='{"format": "dd/mm/yyyy"}'/></p>
                        </div>
                    </div>
                    <div class="row text-center">
                        <h5><span t-field="o.doc_type"/></h5>
                    </div>
                </div>

                <div class="page">
                    <div class="row">
                        <div class="col-xs-12">Sirvase entregar vehiculo descrito abajo a.: <span t-field="o.to_partner_id"/></div>
                        <div class="col-xs-12">Para recibir de.: <span t-field="o.to_partner_id"/></div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">Dirección.:
                            <span t-if="o.to_partner_id.street" t-field="o.to_partner_id.street"/>
                            <span t-if="o.to_partner_id.street and o.to_partner_id.street2 ">,</span>
                            <span t-if="o.to_partner_id.street2" t-field="o.to_partner_id.street2"/>
                            <span t-if="o.to_partner_id.zip and o.to_partner_id.street or o.to_partner_id.street2 ">,</span>
                            <span t-if="o.to_partner_id.zip ">zip:
                                <span t-field="o.to_partner_id.zip"/>
                            </span>
                            <span t-if="o.to_partner_id.zip and o.to_partner_id.city">,</span>
                            <span t-if="o.to_partner_id.city or o.to_partner_id.country_id" t-field="o.to_partner_id.city"/>
                            <span t-if="o.to_partner_id.country_id and o.to_partner_id.city ">,</span>
                            <span t-field="o.to_partner_id.country_id"/>
                            <span t-field="o.to_partner_id.phone"/>
                            <span t-if="o.to_partner_id.mobile and o.to_partner_id.phone ">,</span>
                            <span t-field="o.to_partner_id.mobile"/>
                        </div>
                    </div>
                </div>

                <div class="footer">
                    <div class="text-center" style="border-top: 1px solid black;">
                        <ul t-if="not company.custom_footer" class="list-inline">
                            <li t-if="company.phone">Phone: <span t-field="company.phone"/></li>

                            <li t-if="company.fax and company.phone">&amp;bull;</li>
                            <li t-if="company.fax">Fax: <span t-field="company.fax"/></li>

                            <li t-if="company.email and company.fax or company.email and company.phone">&amp;bull;</li>
                            <li t-if="company.email">Email: <span t-field="company.email"/></li>

                            <li t-if="company.website and company.email or company.website and company.fax or company.website and company.phone">&amp;bull;</li>
                            <li t-if="company.website">Website: <span t-field="company.website"/></li>
                        </ul>

                        <ul t-if="not company.custom_footer" class="list-inline" name="financial_infos">
                            <li t-if="company.vat">RNC: <span t-field="company.vat"/></li>
                        </ul>

                        <t t-if="company.custom_footer">
                            <span t-raw="company.rml_footer"/>
                        </t>

                        <ul class="list-inline">
                            <li>Page:</li>
                            <li><span class="page"/></li>
                            <li>/</li>
                            <li><span class="topage"/></li>
                        </ul>
                    </div>
                </div>
            </t>
        </t>
    </template>


</openerp>